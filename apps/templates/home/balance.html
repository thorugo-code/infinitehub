{% extends 'layouts/base.html' %}

{% block title %} Balance {% endblock title %}

<!-- Specific CSS goes HERE -->
{% block stylesheets %}
    <style>
        .tabcontent {
            animation: fadeEffect 1s;
        }

        @keyframes fadeEffect {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
    </style>
{% endblock stylesheets %}

{% block content %}
    <!-- Header -->
    <div class="header bg-primary" style="padding-bottom: 6rem">
        <div class="container-fluid">
            <div class="header-body">
                <div class="row align-items-center py-4">
                    <div class="col-lg-6 col-7">
                        <nav aria-label="breadcrumb" class="d-none d-md-inline-block ml-md-4">
                            <ol class="breadcrumb breadcrumb-links breadcrumb-dark">
                                <li class="breadcrumb-item"><a href="/"><i class="fas fa-home"></i></a></li>
                                <li class="breadcrumb-item"><a href="">Administrative</a></li>
                                <li class="breadcrumb-item active">Balance</li>
                            </ol>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid" style="margin-top: -6rem">
        <div class="header-body">
            <!-- Card stats -->
            <div class="row">
                <div class="col-lg-3">
                    <div class="card bg-gradient-success border-0 mb-3">
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h5 class="card-title text-uppercase text-muted mb-0 text-white">Inputs</h5>
                                    <span class="h2 font-weight-bold mb-0 text-white">--</span>
                                </div>
                                <div class="col-auto">
                                    <div class="icon icon-shape bg-white text-dark rounded-circle shadow">
                                        <i class="fas fa-chart-line"></i>
                                    </div>
                                </div>
                            </div>
                            <p class="mt-3 mb-0 text-sm">
                                <span class="text-white mr-1"><i class="fa fa-arrow-up mr-2"></i>-</span>
                                <span class="text-nowrap text-white">This month</span>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="card bg-gradient-danger border-0 mb-3">
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h5 class="card-title text-uppercase text-muted mb-0 text-white">Outputs</h5>
                                    <span class="h2 font-weight-bold mb-0 text-white">--</span>
                                </div>
                                <div class="col-auto">
                                    <div class="icon icon-shape bg-white text-dark rounded-circle shadow">
                                        <i class="fas fa-donate"></i>
                                    </div>
                                </div>
                            </div>
                            <p class="mt-3 mb-0 text-sm">
                                <span class="text-white mr-1"><i class="fa fa-arrow-down mr-2"></i>-</span>
                                <span class="text-nowrap text-white">This month</span>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="card bg-gradient-info border-0 mb-3">
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h5 class="card-title text-uppercase text-muted mb-0 text-white">Balance</h5>
                                    <span class="h2 font-weight-bold mb-0 text-white">--</span>
                                </div>
                                <div class="col-auto">
                                    <div class="icon icon-shape bg-white text-dark rounded-circle shadow">
                                        <i class="fas fa-wallet"></i>
                                    </div>
                                </div>
                            </div>
                            <p class="mt-3 mb-0 text-sm">
                                <span class="text-white mr-1"><i class="fa fa-chart-bar mr-2"></i>-</span>
                                <span class="text-nowrap text-white">This month</span>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="card bg-gradient-default border-0">
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h5 class="card-title text-uppercase text-muted mb-0 text-white">Clients</h5>
                                    <span class="h2 font-weight-bold mb-0 text-white">--</span>
                                </div>
                                <div class="col-auto">
                                    <div class="icon icon-shape bg-white text-dark rounded-circle shadow">
                                        <i class="fas fa-users"></i>
                                    </div>
                                </div>
                            </div>
                            <p class="mt-3 mb-0 text-sm">
                                <span class="text-white mr-1"><i class="fa fa-arrow-up mr-2"></i>-</span>
                                <span class="text-nowrap text-white">This month</span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid mt-2">
        <div class="row" style="flex-wrap: wrap-reverse">

            <!-- Bills Card -->
            <div class="col">
                <div class="card shadow">
                    <div class="card-header">
                        <div class="row align-items-center">
                            <div class="col">
                                <h4 class="my-1">Nearby bills</h4>
                            </div>
                            <div class="text-right btn-group mr-1" role="group">
                                <button type="button" class="btn btn-sm btn-neutral tablinksBills"
                                        onclick="openBills(event, 'receive')" id="defaultOpenBills">
                                    Receive
                                </button>
                                <button type="button" class="btn btn-sm btn-neutral tablinksBills"
                                        onclick="openBills(event, 'pay')">
                                    Pay
                                </button>
                            </div>
                            <div class="text-right mx-2">
                                <a href="{% url 'balance_bills' %}" class="btn btn-sm btn-primary">See all</a>
                            </div>
                        </div>
                    </div>
                    <div class="card-body p-0" style="height: 32rem; overflow: auto">
                        <table class="table-responsive table align-items-center table-flush" style="height: 32rem">
                            <thead class="thead-light">
                            <tr>
                                <th scope="col" style="width: 0"></th>
                                <th scope="col" style="width: 37%">Name</th>
                                <th scope="col" style="width: 25%">Local</th>
                                <th scope="col" style="width: 15%">Value</th>
                                <th scope="col" style="width: 15%">Date</th>
                                <th scope="col" style="width: 18%">Status</th>
                                <th scope="col" style="width: 0"></th>
                            </tr>
                            </thead>
                            <tbody class="tabcontent border-0" style="height: 100%" id="receive">
                            {% for bill in nearby_to_receive %}
                                <tr>
                                    <td class="pr-0">
                                        <i class="fas fa-arrow-up text-success"></i>
                                    </td>
                                    <th scope="row">
                                        {{ bill.title }}
                                    </th>
                                    <td>
                                        {{ bill.unit.name }}
                                    </td>
                                    <td>
                                        {{ bill.total }}
                                    </td>
                                    <td>
                                        {{ bill.due_date }}
                                    </td>
                                    <td>
                                        <span class="badge badge-dot mr-4">
                                            {% if not bill.paid and bill.due_date >= date_now %}
                                                <i class="bg-info"></i>
                                                <span class="status">pending</span>
                                            {% else %}
                                                <i class="bg-danger"></i>
                                                <span class="status">late</span>
                                            {% endif %}
                                        </span>
                                    </td>
                                    <td class="text-right">
                                        <div class="dropdown">
                                            <a class="btn btn-sm btn-icon-only text-light" href="#" role="button"
                                               data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                <i class="fas fa-ellipsis-v"></i>
                                            </a>
                                            <div class="dropdown-menu dropdown-menu-right dropdown-menu-arrow">
                                                <a class="dropdown-item"
                                                   href="">
                                                    Open
                                                </a>
                                                <div class="dropdown-divider"></div>
                                                <a class="dropdown-item text-success" href="" data-dismiss="modal"
                                                   data-toggle="modal"
                                                   data-target="#paidConfirmIncome{{ bill.id }}">
                                                    Set as paid
                                                </a>
                                                <a class="dropdown-item text-danger" href="" data-dismiss="modal"
                                                   data-toggle="modal"
                                                   data-target="#deleteConfirmIncome{{ bill.id }}">
                                                    Delete
                                                </a>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <div class="modal fade"
                                     id="deleteConfirmIncome{{ bill.id }}"
                                     tabindex="-1"
                                     role="dialog" aria-labelledby="deleteConfirmLabel{{ bill.id }}"
                                     aria-hidden="true">
                                    <div class="modal-dialog my-6" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header mt-2">
                                                <h5 class="modal-title my-1" style="margin-left: auto">
                                                    <i class="ni ni-fat-delete text-blue"
                                                       style="font-size: 1.5rem; margin-top: 0.15rem !important"></i>
                                                </h5>
                                                <span class="ml-3 my-1"
                                                      style="margin-right: auto; font-size: 1.2rem"
                                                      id="deleteConfirmModalLabel{{ bill.id }}">Are you sure?</span>
                                                <button type="button" class="close mt--4"
                                                        style="margin-left: -30px" data-dismiss="modal"
                                                        aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body py-0"
                                                 style="padding-left: 2.5rem; padding-right: 2.5rem">
                                                <p class="text-center">Are you sure you want to delete this
                                                    bill?
                                                    <br>
                                                    This action cannot be undone.
                                                <form method="post"
                                                      id="deleteConfirmFormIncome{{ bill.id }}"
                                                      action="{% url 'delete_bill' 'income' bill.id 'balance_page' %}">
                                                    {% csrf_token %}
                                                </form>
                                                <div class="form-group form-control-label mb-3">
                                                    <label for="name">Name</label>
                                                    <input class="form-control" id="name"
                                                           name="bill_name"
                                                           value="{{ bill.title }}" disabled>
                                                </div>
                                                <div class="form-group form-control-label mb-3">
                                                    <label for="beneficiary">Local</label>
                                                    <input class="form-control" id="beneficiary"
                                                           name="bill_beneficiary"
                                                           value="{{ bill.unit.name }}" disabled>
                                                </div>
                                                <div class="row">
                                                    <div class="col form-group form-control-label mb-3">
                                                        <label for="category">Category</label>
                                                        <input class="form-control" id="category"
                                                               name="bill_category"
                                                               value="{{ bill.category }}" disabled>
                                                    </div>
                                                    <div class="col form-group form-control-label mb-3">
                                                        <label for="client">Client</label>
                                                        <input class="form-control" id="client"
                                                               name="bill_receive_client"
                                                               value="{{ bill.client.name }}"
                                                               disabled>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col form-group form-control-label">
                                                        <label for="billTotalInput">Total</label>
                                                        <input inputmode="decimal"
                                                               class="form-control"
                                                               id="billTotalInput"
                                                               name="bill_total" placeholder=""
                                                               value="{{ bill.total }}" disabled>
                                                    </div>
                                                    <div class="col form-group form-control-label">
                                                        <label for="billMethodInput">Method</label>
                                                        <input class="form-control"
                                                               id="billMethodInput"
                                                               name="bill_method"
                                                               value="{{ bill.method }}" disabled>
                                                    </div>
                                                    <div class="col form-group form-control-label">
                                                        <label for="billDueDateInput">Due
                                                            date</label>
                                                        <input type="date" class="form-control"
                                                               id="billDueDateInput"
                                                               name="bill_due_date" placeholder=""
                                                               value="{{ bill.due_date|date:'Y-m-d' }}"
                                                               disabled>
                                                    </div>
                                                </div>
                                                <div class="form-group form-control-label">
                                                    <label for="about">Description</label>
                                                    <textarea rows="4" class="form-control"
                                                              id="about"
                                                              name="bill_description"
                                                              disabled>{{ bill.description }}</textarea>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary"
                                                        data-dismiss="modal">Cancel
                                                </button>
                                                <button type="submit" class="btn btn-danger"
                                                        form="deleteConfirmFormIncome{{ bill.id }}">
                                                    Delete
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal fade"
                                     id="paidConfirmIncome{{ bill.id }}"
                                     tabindex="-1"
                                     role="dialog" aria-labelledby="paidConfirmLabel{{ bill.id }}"
                                     aria-hidden="true">
                                    <div class="modal-dialog my-6" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header mt-2">
                                                <h5 class="modal-title my-1" style="margin-left: auto">
                                                    <i class="ni ni-fat-delete text-blue"
                                                       style="font-size: 1.5rem; margin-top: 0.15rem !important"></i>
                                                </h5>
                                                <span class="ml-3 my-1"
                                                      style="margin-right: auto; font-size: 1.2rem"
                                                      id="paidConfirmModalLabel{{ bill.id }}">Are you sure?</span>
                                                <button type="button" class="close mt--4"
                                                        style="margin-left: -30px" data-dismiss="modal"
                                                        aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body py-0"
                                                 style="padding-left: 2.5rem; padding-right: 2.5rem">
                                                <p class="text-center">Are you sure you want to change status of this
                                                    bill?
                                                    <br>
                                                    This action can be undone on bills page.
                                                <form method="post"
                                                      id="paidConfirmFormIncome{{ bill.id }}"
                                                      action="{% url 'change_bill_status' 'income' bill.id 'balance_page' %}">
                                                    {% csrf_token %}
                                                </form>
                                                <div class="form-group form-control-label mb-3">
                                                    <label for="name">Name</label>
                                                    <input class="form-control" id="name"
                                                           name="bill_name"
                                                           value="{{ bill.title }}" disabled>
                                                </div>
                                                <div class="form-group form-control-label mb-3">
                                                    <label for="beneficiary">Local</label>
                                                    <input class="form-control" id="beneficiary"
                                                           name="bill_beneficiary"
                                                           value="{{ bill.unit.name }}" disabled>
                                                </div>
                                                <div class="row">
                                                    <div class="col form-group form-control-label">
                                                        <label for="billTotalInfo">Total</label>
                                                        <input inputmode="decimal"
                                                               class="form-control"
                                                               id="billTotalInfo"
                                                               name="bill_total" placeholder=""
                                                               value="{{ bill.total }}" disabled>
                                                    </div>
                                                    <div class="col form-group form-control-label">
                                                        <label for="billDueDateInput">Due
                                                            date</label>
                                                        <input type="date" class="form-control"
                                                               id="billDueDateInput"
                                                               name="bill_due_date" placeholder=""
                                                               value="{{ bill.due_date|date:'Y-m-d' }}"
                                                               disabled>
                                                    </div>
                                                </div>
                                                <div class="form-group form-control-label">
                                                    <label for="about">Description</label>
                                                    <textarea rows="4" class="form-control"
                                                              id="about"
                                                              name="bill_description"
                                                              disabled>{{ bill.description }}</textarea>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary"
                                                        data-dismiss="modal">Cancel
                                                </button>
                                                {% if bill.paid %}
                                                    <button type="submit" class="btn btn-warning"
                                                            form="paidConfirmFormIncome{{ bill.id }}">
                                                        Set as pending
                                                    </button>
                                                {% else %}
                                                    <button type="submit" class="btn btn-success"
                                                            form="paidConfirmFormIncome{{ bill.id }}">
                                                        Set as paid
                                                    </button>
                                                {% endif %}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                            </tbody>
                            <tbody class="tabcontent border-0" style="height: 100%" id="pay">
                            {% for bill in nearby_to_pay %}
                                <tr>
                                    <td class="pr-0">
                                        <i class="fas fa-arrow-down text-danger"></i>
                                    </td>
                                    <th scope="row">
                                        {{ bill.title }}
                                    </th>
                                    <td>
                                        {{ bill.unit.name }}
                                    </td>
                                    <td>
                                        {{ bill.value }}
                                    </td>
                                    <td>
                                        {{ bill.due_date }}
                                    </td>
                                    <td>
                                        <span class="badge badge-dot mr-4">
                                            {% if not bill.paid and bill.due_date >= date_now %}
                                                <i class="bg-info"></i>
                                                <span class="status">pending</span>
                                            {% else %}
                                                <i class="bg-danger"></i>
                                                <span class="status">late</span>
                                            {% endif %}
                                        </span>
                                    </td>
                                    <td class="text-right">
                                        <div class="dropdown">
                                            <a class="btn btn-sm btn-icon-only text-light" href="#" role="button"
                                               data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                <i class="fas fa-ellipsis-v"></i>
                                            </a>
                                            <div class="dropdown-menu dropdown-menu-right dropdown-menu-arrow">
                                                <a class="dropdown-item"
                                                   href="">
                                                    Open
                                                </a>
                                                <div class="dropdown-divider"></div>
                                                <a class="dropdown-item text-success" href="" data-dismiss="modal"
                                                   data-toggle="modal"
                                                   data-target="#paidConfirmExpense{{ bill.id }}">
                                                    Set as paid
                                                </a>
                                                <a class="dropdown-item text-danger" href="" data-dismiss="modal"
                                                   data-toggle="modal"
                                                   data-target="#deleteConfirmExpense{{ bill.id }}">
                                                    Delete
                                                </a>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <div class="modal fade"
                                     id="deleteConfirmExpense{{ bill.id }}"
                                     tabindex="-1"
                                     role="dialog" aria-labelledby="deleteConfirmLabel{{ bill.id }}"
                                     aria-hidden="true">
                                    <div class="modal-dialog my-6" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header mt-2">
                                                <h5 class="modal-title my-1" style="margin-left: auto">
                                                    <i class="ni ni-fat-delete text-blue"
                                                       style="font-size: 1.5rem; margin-top: 0.15rem !important"></i>
                                                </h5>
                                                <span class="ml-3 my-1"
                                                      style="margin-right: auto; font-size: 1.2rem"
                                                      id="deleteConfirmModalLabel{{ bill.id }}">Are you sure?</span>
                                                <button type="button" class="close mt--4"
                                                        style="margin-left: -30px" data-dismiss="modal"
                                                        aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body py-0"
                                                 style="padding-left: 2.5rem; padding-right: 2.5rem">
                                                <p class="text-center">Are you sure you want to delete this bill?
                                                    <br>
                                                    This action cannot be undone.
                                                <form method="post"
                                                      id="deleteConfirmFormExpense{{ bill.id }}"
                                                      action="{% url 'delete_bill' 'expense' bill.id 'balance_page' %}">
                                                    {% csrf_token %}
                                                </form>
                                                <div class="form-group form-control-label mb-3">
                                                    <label for="name">Name</label>
                                                    <input class="form-control" id="name"
                                                           name="bill_name"
                                                           value="{{ bill.title }}" disabled>
                                                </div>
                                                <div class="form-group form-control-label mb-3">
                                                    <label for="beneficiary">Local</label>
                                                    <input class="form-control" id="beneficiary"
                                                           name="bill_beneficiary"
                                                           value="{{ bill.unit.name }}" disabled>
                                                </div>
                                                <div class="row">
                                                    <div class="col form-group form-control-label mb-3">
                                                        <label for="category">Category</label>
                                                        <input class="form-control" id="category"
                                                               name="bill_category"
                                                               value="{{ bill.category }}" disabled>
                                                    </div>
                                                    <div class="col form-group form-control-label mb-3">
                                                        <label for="client">Client</label>
                                                        <input class="form-control" id="client"
                                                               name="bill_receive_client"
                                                               value="{{ bill.client.name }}"
                                                               disabled>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col form-group form-control-label">
                                                        <label for="billTotalInput">Total</label>
                                                        <input inputmode="decimal"
                                                               class="form-control"
                                                               id="billTotalInput"
                                                               name="bill_total" placeholder=""
                                                               value="{{ bill.total }}" disabled>
                                                    </div>
                                                    <div class="col form-group form-control-label">
                                                        <label for="billMethodInput">Method</label>
                                                        <input class="form-control"
                                                               id="billMethodInput"
                                                               name="bill_method"
                                                               value="{{ bill.method }}" disabled>
                                                    </div>
                                                    <div class="col form-group form-control-label">
                                                        <label for="billDueDateInput">Due
                                                            date</label>
                                                        <input type="date" class="form-control"
                                                               id="billDueDateInput"
                                                               name="bill_due_date" placeholder=""
                                                               value="{{ bill.due_date|date:'Y-m-d' }}"
                                                               disabled>
                                                    </div>
                                                </div>
                                                <div class="form-group form-control-label">
                                                    <label for="about">Description</label>
                                                    <textarea rows="4" class="form-control"
                                                              id="about"
                                                              name="bill_description"
                                                              disabled>{{ bill.description }}</textarea>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary"
                                                        data-dismiss="modal">Cancel
                                                </button>
                                                <button type="submit" class="btn btn-danger"
                                                        form="deleteConfirmFormExpense{{ bill.id }}">
                                                    Delete
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal fade"
                                     id="paidConfirmExpense{{ bill.id }}"
                                     tabindex="-1"
                                     role="dialog" aria-labelledby="paidConfirmLabel{{ bill.id }}"
                                     aria-hidden="true">
                                    <div class="modal-dialog my-6" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header mt-2">
                                                <h5 class="modal-title my-1" style="margin-left: auto">
                                                    <i class="ni ni-fat-delete text-blue"
                                                       style="font-size: 1.5rem; margin-top: 0.15rem !important"></i>
                                                </h5>
                                                <span class="ml-3 my-1"
                                                      style="margin-right: auto; font-size: 1.2rem"
                                                      id="paidConfirmModalLabel{{ bill.id }}">Are you sure?</span>
                                                <button type="button" class="close mt--4"
                                                        style="margin-left: -30px" data-dismiss="modal"
                                                        aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body py-0"
                                                 style="padding-left: 2.5rem; padding-right: 2.5rem">
                                                <p class="text-center">Are you sure you want to change status of this
                                                    bill?
                                                    <br>
                                                    This action can be undone on bills page.
                                                <form method="post"
                                                      id="paidConfirmFormExpense{{ bill.id }}"
                                                      action="{% url 'change_bill_status' 'expense' bill.id 'balance_page' %}">
                                                    {% csrf_token %}
                                                </form>
                                                <div class="form-group form-control-label mb-3">
                                                    <label for="name">Name</label>
                                                    <input class="form-control" id="name"
                                                           name="bill_name"
                                                           value="{{ bill.title }}" disabled>
                                                </div>
                                                <div class="row">
                                                    <div class="col form-group form-control-label mb-3">
                                                        <label for="beneficiary">Local</label>
                                                        <input class="form-control" id="beneficiary"
                                                               name="bill_beneficiary"
                                                               value="{{ bill.unit.name }}" disabled>
                                                    </div>
                                                    <div class="col form-group form-control-label mb-3">
                                                        <label for="category">Category</label>
                                                        <input class="form-control" id="category"
                                                               name="bill_category"
                                                               value="{{ bill.subcategory }}" disabled>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col form-group form-control-label">
                                                        <label for="billTotalInput">Value</label>
                                                        <input inputmode="decimal"
                                                               class="form-control"
                                                               id="billTotalInput"
                                                               name="bill_total" placeholder=""
                                                               value="{{ bill.value }}" disabled>
                                                    </div>
                                                    <div class="col form-group form-control-label">
                                                        <label for="billDueDateInput">Due
                                                            date</label>
                                                        <input type="date" class="form-control"
                                                               id="billDueDateInput"
                                                               name="bill_due_date" placeholder=""
                                                               value="{{ bill.due_date|date:'Y-m-d' }}"
                                                               disabled>
                                                    </div>
                                                </div>
                                                <div class="form-group form-control-label">
                                                    <label for="about">Description</label>
                                                    <textarea rows="4" class="form-control"
                                                              id="about"
                                                              name="bill_description"
                                                              disabled>{{ bill.description }}</textarea>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary"
                                                        data-dismiss="modal">Cancel
                                                </button>
                                                {% if bill.paid %}
                                                    <button type="submit" class="btn btn-warning"
                                                            form="paidConfirmFormExpense{{ bill.id }}">
                                                        Set as pending
                                                    </button>
                                                {% else %}
                                                    <button type="submit" class="btn btn-success"
                                                            form="paidConfirmFormExpense{{ bill.id }}">
                                                        Set as paid
                                                    </button>
                                                {% endif %}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    <div class="card-footer border-top-0 py-2"></div>
                </div>
            </div>

            <!-- Reports Card -->
            {#            <div class="col-lg-6">#}
            {#                <div class="card shadow">#}
            {#                    <div class="card-header border-0">#}
            {#                        <div class="row align-items-center">#}
            {#                            <div class="col">#}
            {#                                <h4 class="my-1">Last reports</h4>#}
            {#                            </div>#}
            {#                            <div class="text-right btn-group mr-1" role="group">#}
            {#                                <button type="button" class="btn btn-sm btn-neutral tablinksReports"#}
            {#                                        onclick="openReports(event, 'month')" id="defaultOpenReports">#}
            {#                                    Month#}
            {#                                </button>#}
            {#                                <button type="button" class="btn btn-sm btn-neutral tablinksReports"#}
            {#                                        onclick="openReports(event, 'year')">#}
            {#                                    Year#}
            {#                                </button>#}
            {#                                <button type="button" class="btn btn-sm btn-neutral tablinksReports"#}
            {#                                        onclick="openReports(event, 'custom')">#}
            {#                                    Custom#}
            {#                                </button>#}
            {#                            </div>#}
            {#                            <div class="text-right mx-2">#}
            {#                                <a href="" class="btn btn-sm btn-primary">See all</a>#}
            {#                            </div>#}
            {#                        </div>#}
            {#                    </div>#}
            {#                    <div class="card-body p-0" style="height: 26rem; overflow: auto">#}
            {#                        <div class="table-responsive">#}
            {#                            <table class="table align-items-center table-flush">#}
            {#                                <thead class="thead-light">#}
            {#                                <tr>#}
            {#                                    <th scope="col">Period</th>#}
            {#                                    <th scope="col" style="width: 20%">Received</th>#}
            {#                                    <th scope="col" style="width: 20%">Paid</th>#}
            {#                                    <th scope="col" style="width: 15%">Balance</th>#}
            {#                                </tr>#}
            {#                                </thead>#}
            {##}
            {#                                <tbody class="tabcontent border-0" id="month">#}
            {#                                {% for item in user_profile.user.last_name %}#}
            {#                                    <tr>#}
            {#                                        <th scope="row">#}
            {#                                            December, 2023#}
            {#                                        </th>#}
            {#                                        <td>#}
            {#                                            3.513,00#}
            {#                                        </td>#}
            {#                                        <td>#}
            {#                                            294,00#}
            {#                                        </td>#}
            {#                                        <td>#}
            {#                                            <i class="fas fa-arrow-up text-success mr-3"></i> 3.219,00#}
            {#                                        </td>#}
            {#                                    </tr>#}
            {#                                {% endfor %}#}
            {#                                </tbody>#}
            {##}
            {#                                <tbody class="tabcontent border-0" id="year">#}
            {#                                {% for item in user_profile.user.last_name %}#}
            {#                                    <tr>#}
            {#                                        <th scope="row">#}
            {#                                            2023#}
            {#                                        </th>#}
            {#                                        <td>#}
            {#                                            4,269#}
            {#                                        </td>#}
            {#                                        <td>#}
            {#                                            4,569#}
            {#                                        </td>#}
            {#                                        <td>#}
            {#                                            <i class="fas fa-arrow-down text-danger mr-3"></i> 300,00#}
            {#                                        </td>#}
            {#                                    </tr>#}
            {#                                {% endfor %}#}
            {#                                </tbody>#}
            {##}
            {#                                <tbody class="tabcontent border-0" id="custom">#}
            {#                                {% for item in user_profile.user.last_name %}#}
            {#                                    <tr>#}
            {#                                        <th scope="row">#}
            {#                                            January, 2023 - June, 2023#}
            {#                                        </th>#}
            {#                                        <td>#}
            {#                                            4,269#}
            {#                                        </td>#}
            {#                                        <td>#}
            {#                                            4,569#}
            {#                                        </td>#}
            {#                                        <td>#}
            {#                                            <i class="fas fa-arrow-down text-danger mr-3"></i> 300,00#}
            {#                                        </td>#}
            {#                                    </tr>#}
            {#                                {% endfor %}#}
            {#                                </tbody>#}
            {##}
            {#                            </table>#}
            {#                        </div>#}
            {#                    </div>#}
            {#                    <div class="card-footer border-top-0 py-2"></div>#}
            {#                </div>#}
            {#            </div>#}

            <!-- Percentage Chart Card -->
            {#            <div class="col-lg-4">#}
            {#                <div class="card shadow">#}
            {#                    <div class="card-header bg-transparent">#}
            {#                        <div class="row align-items-center">#}
            {#                            <div class="col mt-1">#}
            {#                                <h4 class="mt-1 mb-0">Percentage</h4>#}
            {#                            </div>#}
            {#                        </div>#}
            {#                    </div>#}
            {#                    <div class="card-body" style="height: 32rem">#}
            {#                        <div class="chart">#}
            {##}
            {#                        </div>#}
            {#                    </div>#}
            {#                    <div class="card-footer border-top-0 py-2"></div>#}
            {#                </div>#}
            {#            </div>#}

        </div>
    </div>

    {#    <div class="container-fluid">#}
    {#        <div class="row">#}
    {##}
    {#            <!-- Last Reports Chart Card -->#}
    {#            <div class="col-lg-4">#}
    {#                <div class="card shadow">#}
    {#                    <div class="card-header bg-transparent">#}
    {#                        <div class="row align-items-center">#}
    {#                            <div class="col mt-1">#}
    {#                                <h4 class="mt-1 mb-0">Monthly balances</h4>#}
    {#                            </div>#}
    {#                        </div>#}
    {#                    </div>#}
    {#                    <div class="card-body" style="height: 26rem;">#}
    {#                        <div class="chart">#}
    {##}
    {#                        </div>#}
    {#                    </div>#}
    {#                    <div class="card-footer border-top-0 py-2"></div>#}
    {#                </div>#}
    {#            </div>#}
    {##}
    {#            <!-- Reports Card -->#}
    {#            <div class="col">#}
    {#                <div class="card shadow">#}
    {#                    <div class="card-header border-0">#}
    {#                        <div class="row align-items-center">#}
    {#                            <div class="col">#}
    {#                                <h4 class="my-1">Last reports</h4>#}
    {#                            </div>#}
    {#                            <div class="text-right btn-group mr-1" role="group">#}
    {#                                <button type="button" class="btn btn-sm btn-neutral tablinksReports"#}
    {#                                        onclick="openReports(event, 'month')" id="defaultOpenReports">#}
    {#                                    Month#}
    {#                                </button>#}
    {#                                <button type="button" class="btn btn-sm btn-neutral tablinksReports"#}
    {#                                        onclick="openReports(event, 'year')">#}
    {#                                    Year#}
    {#                                </button>#}
    {#                                <button type="button" class="btn btn-sm btn-neutral tablinksReports"#}
    {#                                        onclick="openReports(event, 'custom')">#}
    {#                                    Custom#}
    {#                                </button>#}
    {#                            </div>#}
    {#                            <div class="text-right mx-2">#}
    {#                                <a href="" class="btn btn-sm btn-primary">See all</a>#}
    {#                            </div>#}
    {#                        </div>#}
    {#                    </div>#}
    {#                    <div class="card-body p-0" style="height: 26rem; overflow: auto">#}
    {#                        <div class="table-responsive">#}
    {#                            <table class="table align-items-center table-flush">#}
    {#                                <thead class="thead-light">#}
    {#                                <tr>#}
    {#                                    <th scope="col">Period</th>#}
    {#                                    <th scope="col" style="width: 20%">Received</th>#}
    {#                                    <th scope="col" style="width: 20%">Paid</th>#}
    {#                                    <th scope="col" style="width: 15%">Balance</th>#}
    {#                                </tr>#}
    {#                                </thead>#}
    {##}
    {#                                <tbody class="tabcontent border-0" id="month">#}
    {#                                {% for item in user_profile.user.last_name %}#}
    {#                                    <tr>#}
    {#                                        <th scope="row">#}
    {#                                            December, 2023#}
    {#                                        </th>#}
    {#                                        <td>#}
    {#                                            3.513,00#}
    {#                                        </td>#}
    {#                                        <td>#}
    {#                                            294,00#}
    {#                                        </td>#}
    {#                                        <td>#}
    {#                                            <i class="fas fa-arrow-up text-success mr-3"></i> 3.219,00#}
    {#                                        </td>#}
    {#                                    </tr>#}
    {#                                {% endfor %}#}
    {#                                </tbody>#}
    {##}
    {#                                <tbody class="tabcontent border-0" id="year">#}
    {#                                {% for item in user_profile.user.last_name %}#}
    {#                                    <tr>#}
    {#                                        <th scope="row">#}
    {#                                            2023#}
    {#                                        </th>#}
    {#                                        <td>#}
    {#                                            4,269#}
    {#                                        </td>#}
    {#                                        <td>#}
    {#                                            4,569#}
    {#                                        </td>#}
    {#                                        <td>#}
    {#                                            <i class="fas fa-arrow-down text-danger mr-3"></i> 300,00#}
    {#                                        </td>#}
    {#                                    </tr>#}
    {#                                {% endfor %}#}
    {#                                </tbody>#}
    {##}
    {#                                <tbody class="tabcontent border-0" id="custom">#}
    {#                                {% for item in user_profile.user.last_name %}#}
    {#                                    <tr>#}
    {#                                        <th scope="row">#}
    {#                                            January, 2023 - June, 2023#}
    {#                                        </th>#}
    {#                                        <td>#}
    {#                                            4,269#}
    {#                                        </td>#}
    {#                                        <td>#}
    {#                                            4,569#}
    {#                                        </td>#}
    {#                                        <td>#}
    {#                                            <i class="fas fa-arrow-down text-danger mr-3"></i> 300,00#}
    {#                                        </td>#}
    {#                                    </tr>#}
    {#                                {% endfor %}#}
    {#                                </tbody>#}
    {##}
    {#                            </table>#}
    {#                        </div>#}
    {#                    </div>#}
    {#                    <div class="card-footer border-top-0 py-2"></div>#}
    {#                </div>#}
    {#            </div>#}
    {##}
    {#        </div>#}
    {#    </div>#}

    <div class="container-fluid">
        {% include "includes/footer.html" %}
    </div>

{% endblock content %}

<!-- Specific JS goes HERE -->
{% block javascripts %}

    <script src="/static/assets/vendor/clipboard/dist/clipboard.min.js"></script>

    <script>

        function openBills(evt, mode) {
            // Declare all variables
            let i, tabcontent, tablinks;

            // Get all elements with class="tabcontent" and hide them
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                if (tabcontent[i].id === "pay" || tabcontent[i].id === "receive") {
                    tabcontent[i].style.display = "none";
                }
            }

            // Get all elements with class="tablinks" and remove the class "active"
            tablinks = document.getElementsByClassName("tablinksBills");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace("btn-primary", "btn-neutral");
            }

            // Show the current tab, and add an "active" class to the button that opened the tab
            document.getElementById(mode).style.display = "table-row-group";
            evt.currentTarget.className = evt.currentTarget.className.replace("btn-neutral", "btn-primary");
        }

        function openReports(evt, mode) {
            // Declare all variables
            let i, tabcontent, tablinks;

            // Get all elements with class="tabcontent" and hide them
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                if (tabcontent[i].id === "month" || tabcontent[i].id === "year" || tabcontent[i].id === "custom") {
                    tabcontent[i].style.display = "none";
                }
            }

            // Get all elements with class="tablinks" and remove the class "active"
            tablinks = document.getElementsByClassName("tablinksReports");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace("btn-primary", "btn-neutral");
            }

            // Show the current tab, and add an "active" class to the button that opened the tab
            document.getElementById(mode).style.display = "table-row-group";
            evt.currentTarget.className = evt.currentTarget.className.replace("btn-neutral", "btn-primary");
        }

        {#document.getElementById("defaultOpenReports").click();#}
        document.getElementById("defaultOpenBills").click();

    </script>

{% endblock javascripts %}
